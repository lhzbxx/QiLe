开发日志

2015.11.14
To be fixed:
	1. 后台管理页面添加房源部分的修改。
	2. 后台管理页面商家列表的添加。
	3. 后台管理页面房源列表的添加。
	4. 后台管理页面订单列表的添加和操作逻辑。
Work:
	1. 添加房源中的数量字段替换为是否可用和备注，商家通过备注识别不同的房间信息，通过开关进行管理房间的库存。
	2. 添加房源中的图片上传问题，由于需要授权，而这个token信息必须由后台来生成。
	3. 添加房源中的图片上传问题，现在的解决方案是每次上传的图片记录在下面，等全部保存后再进行提交，为了能够得到基本信息中的房源ID。
	4. 商家列表和房源列表由表格展示，暂不提供修改功能。
	5. 订单列表添加对状态的修改。

2015.11.15
To be fixed:
	1. 订单列表的处理，对操作逻辑的完善。
	2. 对订单状态的更新API。
	3. 优惠券的添加和使用。
	4. 入住人信息的保存，包括对用户真实姓名的保存。
Work:
	1. 入住人信息和用户真实姓名都用全新字段进行保存。
	2. 添加了优惠券的增删API。
	3. 增加了扫描进行对手机号码的优惠券增加方式。
	4. 修改了前端超链接的样式，让它在手机上显示更加好看。
	5. 对正在跳转中的提示进行修改，现在返回前一个页面不会还亮提示。
	6. 增加了layout中的修改密码的入口。
Bug:
	1. 扫二维码添加优惠券没有验证手机的正确性。
	2. 扫描二维码的URL暴露了优惠券的参数，非常危险，但是我懒得改TuT。
	3. 没有验证下单页面的所需信息。

2015.11.16
Work:
	1. 增加了一个好像没有用的Star CSS的评价样式。
	2. 对超链接的样式进行了修改，让它不那么难看了。

2015.11.17
To be fixed:
	1. 房源列表中的修改操作。
	2. 商家列表中的修改操作。
	3. 优惠券列表，优惠券也用UUID生成，这样就可以避免URL参数暴露的问题。
Work:
	1. 完成了房源列表、商家列表的修改操作。
	2. 针对前端的样式做了小部分的修改，让它更加好看了。
	3. 制作了404页面，但是并不好看QAQ。
	4. 前端修改页面的Reset函数有问题，已经修改。
	5. 添加了优惠券模板的表。
	6. 增加了对特价房这类属性的相关字段。
	7. 对样式的路径进行了修改，应该会变得更加稳定，以后目录还是全部按这种格式进行写吧。

2015.11.18
Plan:
	1. 完成订单列表的整个流程，包括对订单的确认和删除。
	2. 完成优惠券模板的后台管理。
	3. 完成房源的搜索。
	4. 后台管理的登录，要添加表，注意一个用户只能保持一种登录状态！
	5. 房源字段的bug修复。
Work:
	1. 添加一个用户信息表，专门额外存储与用户有关的信息，需要注册的时候就进行开写。
	2. 对优惠券模板列表添加了一个库存的字段。
	3. 添加了管理用户表，创建商家的时候也要更新这个表。
	4. 去除了冗余的前端的input的name标签。
	5. 优惠券模板没有做二维码的接口，因为感觉用不到，如果实在需要，可以手动生成URL在第三方网站上获取二维码。
	6. 添加了领取优惠券的手机号验证。
	7. 对领取优惠券的页面添加了优惠券的预览，修改了一个蛋疼的CSS问题。
	8. 修复了房源信息修改时的一个bug，该bug造成插入数据库失败。
	9. 解决了房源信息的显示图片和整体图片列表的一个逻辑问题，方法是复写一次图片array。
	10. 对房源添加了开关，如果关闭则用户搜索不到。
	11. 发现时间库存有bug，考虑到闰年的情况，少了一位。
	12. 完成了对房源的时间搜索。
	13. 每次输入用户名好像有点麻烦，还是给个Cookie吧。
	14. 增加了优惠券的使用和相关的判定，只限定一个优惠券的使用。
	15. 优惠券的使用一定要返回UUID，而不是在前端进行处理！！！
	16. 订单中的信息添加了入住人、折扣的历史状态和订单人的真实姓名的保存。
	17. 订单列表基本完成，但是订单的支付没有完成。
To be fixed:
	1. 前端时间选择的控件的时间限制问题，例如不能选择今天之前的日期。
	2. 如果没有房源，现在没有任何的提示信息，应该添加一些提示。
	3. 对时间库存的搜索没有进行详细的测试，如果有机会需要彻底测试一下。
	4. 前端的时间还是得在下单页面也进行一个时间选择，不然是有问题的，因为理论上来说别人发送一个房源的详情页面，从那里下单的话并没有选择时间。
	5. 下单的详情没有做验证。
	6. 支付之前的房源的检查没有完成。
	7. 提示信息尽量转换为微信风格。
	8. 对于网络连接超时的情况没有处理。

2015.11.19
Work:
	1. 修复了总价格的bug，竟然算错了...
	2. 修复了时间选择的bug，挺神奇的一个错误...
	3. 发现了微信的一个问题，就是超链接的href不能为空，否则就一直显示本页，醉了。
	4. 对商家管理和房源管理添加了删除功能。
	5. 选择时间的初始限定，不能比今天更早。
	6. 图片的处理，利用第三方的API来加速图片的读取速度。
	7. 前端更换了一个更好的Slider插件，更加流畅了。
	8. 修正了更改密码后没有正确跳转的问题。

2015.11.20
Work:
	1. 做了发送短信的一个接口，每次用户成功地一次操作发送短信进行通知。
	2. 做了支付的超时处理，建立一个新的schedule调度处理。
	3. 新建一个优惠券分区表，进行统计不同地区的优惠券发送情况。
	4. 订单管理列表的订单时间和下单时间修复。
	5. 增加了待处理订单列表的页面。
	6. 数据库的更新现在自动添加一些测试的数据，并且初始化必要的优惠券。
	7. 现在的订单列表显示的是已付款的订单，如果进入预定时间则显示订单进行中，并且在预定的时间结束以后显示订单已完成。